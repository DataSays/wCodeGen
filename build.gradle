plugins {
	id 'java'
	id 'eclipse'
	id 'idea'
	id 'com.github.ben-manes.versions' version '0.13.0'
}

group = 'io.github.datasays'
version = '1.0'
description = """DataSays wCodeGen"""
archivesBaseName = 'wCodeGen'

sourceCompatibility = 1.8
targetCompatibility = 1.8

tasks.withType(JavaCompile) {
	sourceCompatibility = 1.8
	targetCompatibility = 1.8
	options.encoding = "UTF-8"
}

repositories {
	mavenLocal()
	maven { url "http://maven.aliyun.com/nexus/content/groups/public/" }
	//mavenCentral()
	jcenter()
}

dependencies {
	compile 'io.github.datasays:wUtil:1.1'
	compile 'org.jodd:jodd-lagarto:3.7.1'
	compile 'org.jodd:jodd-proxetta:3.7.1'
    compile 'org.freemarker:freemarker:2.3.23'
	compile 'org.yaml:snakeyaml:1.17'
}

task fatJar(type: Jar) {
	manifest {
		attributes 'Implementation-Title': 'Gradle Jar File Example',
        	'Implementation-Version': version,
        	'Main-Class': 'io.github.datasays.codeGen2.FtlCodeGen2'
	}
	baseName = project.name + '-all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}